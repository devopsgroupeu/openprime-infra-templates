controller:
  admissionWebhooks:
    service:
      annotations:
        argocd.argoproj.io/sync-wave: "-1"

  service:
    annotations:
      # TODO: TLS
      # service.beta.kubernetes.io/aws-load-balancer-ssl-cert: "arn:aws:acm:region:acc_id:certificate/xxxxxxxxxxx"
      # service.beta.kubernetes.io/aws-load-balancer-ssl-ports: "https"
      service.beta.kubernetes.io/aws-load-balancer-backend-protocol: "${lb_backend_protocol}"
      service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: "${lb_connection_idle_timeout}"
      service.beta.kubernetes.io/aws-load-balancer-type: "${lb_type}"
      service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: "${lb_nlb_target_type}"
      service.beta.kubernetes.io/aws-load-balancer-proxy-protocol: "*"
      service.beta.kubernetes.io/aws-load-balancer-scheme: "${lb_scheme}"
      argocd.argoproj.io/sync-wave: "-1"
    targetPorts:
      http: "http"
      https: "http" # This maps HTTPS port on LB to HTTP port on the pod
  resources:
    requests:
      cpu: ${cpu_request}
      memory: ${memory_request}

  metrics:
    enabled: ${metrics_enabled}

  autoscaling:
    enabled: ${autoscaling_enabled}
    minReplicas: ${autoscaling_min_replicas}
    maxReplicas: ${autoscaling_max_replicas}
    targetCPUUtilizationPercentage: ${autoscaling_target_cpu_percentage}